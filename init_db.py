# ЁЯУБ init_db.py (V7.1 - Force Reset)
# тЪая╕П тЪая╕П тЪая╕П р╕Др╕│р╣Ар╕Хр╕╖р╕нр╕Щ: р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Щр╕╡р╣Йр╕Ир╕░р╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е! тЪая╕П тЪая╕П тЪая╕П

from app import app, db, DailyLog, CycleHistory, User

# р╣Гр╕Кр╣Й app context р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Й SQLAlchemy р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Й
with app.app_context():
    print("ЁЯФД (V7.1) р╕Бр╕│р╕ер╕▒р╕Зр╕Ър╕▒р╕Зр╕Др╕▒р╕Ър╕гр╕╡р╣Ар╕Лр╣Зр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е...")
    
    # тнРя╕П [р╣Ар╕Юр╕┤р╣Ир╕б] тнРя╕П р╕ер╕Ър╕Хр╕▓р╕гр╕▓р╕Зр╣Ар╕Бр╣Ир╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (V6) р╕Чр╕╡р╣Ир╕бр╕╡р╕нр╕вр╕╣р╣Ир╕нр╕нр╕Бр╣Др╕Ы
    print("   -> 1. р╕Бр╕│р╕ер╕▒р╕Зр╕ер╕Ър╕Хр╕▓р╕гр╕▓р╕Зр╣Ар╕Бр╣Ир╕▓ (Drop all)...")
    db.drop_all() 
    
    # тнРя╕П [р╣Бр╕Бр╣Йр╣Др╕В] тнРя╕П р╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕Зр╣Гр╕лр╕бр╣Ир╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (V7.0)
    print("   -> 2. р╕Бр╕│р╕ер╕▒р╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕Зр╣Гр╕лр╕бр╣И (Create all)...")
    db.create_all() 

    print("тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕З V7.0 р╕кр╕│р╣Ар╕гр╣Зр╕И! р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Вр╕нр╕Зр╕Др╕╕р╕Ур╕зр╣Ир╕▓р╕Зр╣Ар╕Ыр╕ер╣Ир╕▓р╣Бр╕ер╕░р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ")

print("ЁЯПБ р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ!")

